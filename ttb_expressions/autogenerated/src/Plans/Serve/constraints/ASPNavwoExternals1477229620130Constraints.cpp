#include "Plans/Serve/constraints/ASPNavwoExternals1477229620130Constraints.h"
using namespace std;
using namespace alica;
/*PROTECTED REGION ID(ch1477229620130) ENABLED START*/
//Add additional using directives here
#include <alica_asp_solver/ASPTerm.h>
#include <alica_asp_solver/ASPSolver.h>
#include <alica_asp_solver/ASPQueryType.h>
#include <SolverType.h>
#include <engine/AlicaEngine.h>
#include "engine/constraintmodul/SolverTerm.h"
#include "engine/constraintmodul/ConstraintDescriptor.h"
#include <memory>
#include "TTBWorldModel.h"
/*PROTECTED REGION END*/

namespace alicaAutogenerated
{
    //Plan:ASPNavwoExternals

    /*		
     * Tasks: 
     * - EP:1477229620132 : DefaultTask (1414681164704)
     *
     * States:
     * - Nav1 (1477229620131)
     * - InnerState (1477229628161)
     * - NewSuccessState (1477229672639)
     *
     * Vars:				
     * - PlanVar1 (1477229962547) 
     */

    /*
     * RuntimeCondition - (Name): NewRuntimeCondition
     * (ConditionString): 
     * Static Variables: [PlanVar1]
     * Domain Variables:

     */
    void Constraint1477229706852::getConstraint(shared_ptr<ConstraintDescriptor> c, shared_ptr<RunningPlan> rp)
    {
        /*PROTECTED REGION ID(cc1477229706852) ENABLED START*/
        ttb::TTBWorldModel* wm = ttb::TTBWorldModel::get();
        auto constraint = make_shared<alica::reasoner::ASPTerm>();
        auto queryId =
                ((alica::reasoner::ASPSolver*)wm->getEngine()->getSolver(SolverType::ASPSOLVER))->getQueryCounter();
        constraint->setQueryId(queryId);
        stringstream ss;
        ss << "goalReachable(X, 1, " << queryId << ") :- reachable(X, Y, 1), goal(X, 1, ";
        ss << queryId << "), start(Y, 1, " << queryId << "), room(X, 1), room(Y, 1).";
        constraint->setRule(ss.str());
        ss.str("");
        ss << "goal(r1405B, 1, " << queryId << ").";
        constraint->addFact(ss.str());
        ss.str("");
        ss << "start(r1411, 1,  " << queryId << ").";
        constraint->addFact(ss.str());
        constraint->setProgramSection("distributedSystemsRooms1");
        constraint->setId(1477229706852);
        constraint->setType(alica::reasoner::ASPQueryType::Variable);
        c->setConstraint(dynamic_pointer_cast < alica::SolverTerm > (constraint));
        /*PROTECTED REGION END*/
    }

// State: Nav1

// State: Nav1

// State: InnerState

// State: InnerState

// State: NewSuccessState

// State: NewSuccessState

}
