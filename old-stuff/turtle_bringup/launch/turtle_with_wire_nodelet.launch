<launch>

  <!-- include all nasted grouped Launchfiles -->
  <arg name="grouped" default="$(find turtle_bringup)/launch/grouped" />
  <arg name="includes" default="$(find turtle_bringup)/launch/includes" />

  <arg name="scan_topic_kinect" default="/scan_kinect" /> <!-- Scan topic right from the Kinect -->
  <arg name="scan_topic_hokuyo" default="/scan_hokuyo" /> <!-- Scan topic right from the Hokuyo Laserscanner -->
  <arg name="scan_topic_filtered" default="/scan_filtered" /> <!-- Scan Topic filtered by the FilterNode (use only for the Hokuyo Scan) -->

  <arg name="vision_nodelet_manager_name" default="vision_nodelet_manager" />
  <arg name="vision_nodelet_manager_threads" default="4" />

  <include file="$(arg grouped)/kobuki_setup.launch.xml">
	<arg name="kinect_nodelet_manager_name" value="$(arg vision_nodelet_manager_name)" />
	<arg name="kinect_nodelet_manager_threads" value="$(arg vision_nodelet_manager_threads)" />
  </include> <!-- This include has a huge amount of 
    arguments check them up with other  arguments used in other includes and/or nodes which you will add here ...
    Think for Arguments like Topic-names and Frame-names ...-->

  <!-- Start Hokuyo LaserScan Filter to prevent the braces beeing in the laserscan's -->
  <node name="laser_filter" pkg="turtle_hokuyo_laser_filter" type="turtle_hokuyo_laser_filter_node">
    <remap from="/scan_hokuyo" to="$(arg scan_topic_hokuyo)"/>
    <remap from="/scan_filtered" to ="$(arg scan_topic_filtered)"/>
    <rosparam file="$(find turtle_hokuyo_laser_filter)/param/filter.yaml"/>
  </node>

  <!-- Load grouped Nav2D Setup file -->
  <include file="$(arg grouped)/nav2d_setup.launch.xml">
    <arg name="scan_topic" value="$(arg scan_topic_filtered)" />
  </include>

  <node pkg="nodelet" type="nodelet" name="wire_nodelet_manager" args="manager" />

  <!-- Startup the RGBD Server -->
  <include file="$(arg includes)/rgbd_server_nodelet.launch.xml">
	<arg name="nodelet_manager_name" value="wire_nodelet_manager" />
  </include>

  <!-- Startup the ED Server -->
  <include file="$(arg includes)/ed_server_nodelet.launch.xml">
	<arg name="nodelet_manager_name" value="wire_nodelet_manager" />
  </include>

  <!-- Static Transform for Map if the Mapper is disabled. -->
  <!-- <node pkg="tf" type="static_transform_publisher" name="static_top_kinect_tf_pub" args="0 0 0 0 0 0 /map /base_footprint 10" /> -->

</launch>
